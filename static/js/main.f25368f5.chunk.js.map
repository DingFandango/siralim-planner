{"version":3,"sources":["SiralimPlanner.js","icons/nature.png","icons/chaos.png","icons/sorcery.png","icons/death.png","icons/life.png","App.js","reportWebVitals.js","index.js"],"names":["monsterData","require","compendium_version","MonsterRowHeader","Component","className","this","props","renderFullRow","MonsterClassIcon","icon","pi","toLowerCase","src","MonsterRow","cls","fullName","c","class","iconedClass","text","inTraitSlot","inParty","faCheck","renderClass","family","creature","trait_name","trait_description","material_name","MonsterPlannerRow","state","hoveredOver","justUpdated","justUpdatedTimeout","prevProps","prevState","_","isEqual","monster","setJustUpdated","setState","window","clearTimeout","setTimeout","clearJustUpdated","isEmpty","needsValidation","isEmptyRow","error","faExclamationTriangle","rowErrors","getRowErrors","emptyRow","rowClass","draggable","onDragStart","row_id","onDragOver","onDrop","onMouseUp","title","creatureSlot","renderEmptyRow","onClick","clearMonsterPlannerRow","faTimes","MonsterPlanner","handleDragStart","data","event","console","log","fromItem","JSON","stringify","dataTransfer","setData","dragging","handleDragOver","preventDefault","handleDrop","parse","getData","toItem","swapItems","items","slice","fromIndex","toIndex","i","length","fromRest","fromId","toRest","toId","id","updateMonsterPlannerRows","row_ids","monsters","myRef","React","createRef","monsterRows","slot_id","openModal","ref","map","monsterRow","handleMouseUp","Math","floor","getPageFamily","m","MonsterSelectionModal","filteredItems","filteredItemGroups","currentPage","currentSearchTerm","appliedSearchTerm","searchTimeout","tableRef","getItemGroups","itemGroups","currentGroup","monstersInCurrentGroup","f","familyStart","push","max","end","familyEnd","e","target","value","applySearchTerm","searchTerm","item","search_text","indexOf","current","scrollTo","filterResults","r","pageNum","startIndex","start","endIndex","creature_number","currentSelectedIndex","slot","slot_n","currentMonster","currentSelectedMonster","style","closeModal","autoFocus","type","placeholder","onChange","handleSearchChange","itemGroup","goToPage","uid","updateMonsterPlannerRow","monstersInParty","has","renderResultsCount","SiralimPlanner","monsterPlannerRows","monsterSelectionRows","currentRowId","currentSlotId","Set","messageText","monsterMap","modelIsOpen","infoModalIsOpen","saveString","history","add","getMonstersInParty","generateSaveString","newRows","parseInt","str","uids","currentUid","Error","buildMonsterMap","windowUrl","location","search","loadString","URLSearchParams","get","parseLoadString","hasOwnProperty","err","modalIsOpen","document","body","getElementById","focus","href","openInfoModal","faInfoCircle","overlayClassName","isOpen","closeInfoModal","bind","withRouter","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f25368f5.chunk.js","sourcesContent":["import React, {Component, PureComponent} from 'react';\r\nimport Modal from 'react-modal';\r\nimport { withRouter, BrowserRouter } from \"react-router-dom\";\r\nimport _ from 'underscore';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\r\nimport { faCheck } from '@fortawesome/free-solid-svg-icons'\r\nimport { faSave } from '@fortawesome/free-solid-svg-icons'\r\nimport { faInfoCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport icon_nature  from './icons/nature.png';\r\nimport icon_chaos   from './icons/chaos.png';\r\nimport icon_sorcery from './icons/sorcery.png';\r\nimport icon_death   from './icons/death.png';\r\nimport icon_life    from './icons/life.png';\r\n\r\nimport './App.scss';\r\n\r\nconst UID_HASH_LENGTH = 6;\r\nconst MONSTERS_PER_PAGE = 120;\r\n\r\nlet monsterData = require('./data/data');\r\nlet compendium_version = require('./data/compendium_version');\r\n\r\nclass TraitsTable extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (<div>Traits table</div>)\r\n  }\r\n}\r\n\r\n\r\nclass MonsterRowHeader extends Component {\r\n  render() {\r\n    return (\r\n      <div className={\"monster-row monster-row-header\" + (this.props.renderFullRow ? \" detailed\" : \"\")}>\r\n        { this.props.renderFullRow && \r\n          <div className=\"monster-row-in-party\">\r\n            \r\n          </div>\r\n        }     \r\n        <div className=\"monster-row-class\">Class</div>\r\n        <div className=\"monster-row-family\">Family</div>\r\n        <div className=\"monster-row-creature\">Creature</div>\r\n        <div className=\"monster-row-trait_name\">Trait Name</div>\r\n        <div className={\"monster-row-trait_description\"}>\r\n          Trait Description\r\n        </div>\r\n        { this.props.renderFullRow && \r\n          <div className=\"monster-row-material_name\">\r\n            Material Name\r\n          </div>\r\n        }        \r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// // https://stackoverflow.com/questions/51022834/react-jsx-make-substring-in-bold\r\n// function BoldedText(text, shouldBeBold) {\r\n\r\n//   var text_ = text.toLowerCase();\r\n//   const shouldBeBold_ = shouldBeBold.toLowerCase();\r\n  \r\n//   var casedTextArray = [];\r\n//   const textArray = text_.split(shouldBeBold_);\r\n\r\n\r\n//   var a = [];\r\n  \r\n//   // Produces the indices in reverse order; throw on a .reverse() if you want\r\n//   for (var a=[],i=text_.length;i--;) if (text_[i]==shouldBeBold_) a.push(i);  \r\n//   a.reverse();\r\n//   var mentions = [];\r\n//   for(var i of a) {\r\n\r\n//     mentions.push(text.slice(i, i + shouldBeBold.length));\r\n//   }\r\n//   console.log(shouldBeBold, a, mentions);\r\n\r\n//   var totalChars = 0;\r\n//   for(var i of textArray) {\r\n//     console.log(i)\r\n//     var substr = text.slice(totalChars, totalChars + i.length);\r\n//     casedTextArray.push(substr);\r\n//     totalChars += substr.length + shouldBeBold.length;\r\n//   }\r\n\r\n\r\n\r\n \r\n//   return (\r\n//     <span>\r\n//       {casedTextArray.map((item, index) => (\r\n//         <>\r\n//           {item}\r\n//           {index !== textArray.length - 1 && (\r\n//             <b>{mentions.pop()}</b>\r\n//           )}\r\n//         </>\r\n//       ))}\r\n//     </span>\r\n// );\r\n// }\r\n\r\n\r\nfunction MonsterClassIcon(props) {\r\n  var pi = props.icon.toLowerCase();\r\n  var icon;\r\n  if(pi === \"nature\") icon = icon_nature;\r\n  if(pi === \"chaos\")  icon = icon_chaos;\r\n  if(pi === \"sorcery\") icon = icon_sorcery;\r\n  if(pi === \"death\") icon = icon_death;\r\n  if(pi === \"life\") icon = icon_life;\r\n\r\n  return (\r\n    <span className=\"cls-icon\">{icon && <img src={icon} className=\"class-icon\"/>}</span>\r\n  )\r\n}\r\n\r\n// <div className={\"cls cls-\" + cls.toLowerCase()}></div>\r\n\r\nclass MonsterRow extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  renderClass(cls, fullName) {\r\n    var c = this.props.class.toLowerCase();\r\n    var iconedClass = c === \"nature\" || c === \"chaos\" || c === \"death\" || c === \"sorcery\" || c === \"life\";\r\n\r\n    return (\r\n      <div className={\"cls-container\" + (!fullName ? \" center\" : \"\")}>\r\n        { iconedClass && <MonsterClassIcon icon={this.props.class} /> }\r\n        {fullName && <span className={\"cls-full-name col-cls-\" + cls.toLowerCase()}>{this.props.class}</span>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderText(text) {\r\n    //if(!this.props.searchTerm) return text;\r\n    //return BoldedText(text, this.props.searchTerm);\r\n    return text;\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n\r\n    return (\r\n      <div className={\"monster-row\" + (this.props.inTraitSlot ? \" is-trait\" : \"\") + (this.props.renderFullRow ? \" detailed\" : \"\")}>\r\n\r\n      \t\r\n\r\n        { this.props.renderFullRow && \r\n\r\n          <div className=\"monster-row-in-party\">\r\n            { this.props.inParty && <span className=\"green-tick\"><FontAwesomeIcon icon={faCheck}/></span>}\r\n          </div>\r\n        }\r\n\r\n        <div className=\"monster-row-class\">\r\n          {this.renderClass(this.props.class, this.props.renderFullRow)}\r\n        </div>\r\n        <div className=\"monster-row-family\">\r\n          {this.props.family}\r\n        </div>\r\n        <div className=\"monster-row-creature\">\r\n          {this.props.creature}\r\n        </div>\r\n        <div className=\"monster-row-trait_name\">\r\n          {this.props.trait_name}\r\n        </div>\r\n        <div className={\"monster-row-trait_description\"}>\r\n          {this.props.trait_description}\r\n        </div>\r\n        { this.props.renderFullRow && \r\n          <div className=\"monster-row-material_name\">\r\n            {this.props.material_name}\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass MonsterPlannerRow extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hoveredOver: false,\r\n      justUpdated: false,\r\n    }\r\n\r\n    this.justUpdatedTimeout = null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(!this.state.justUpdated && !_.isEqual(prevProps.monster, this.props.monster)) this.setJustUpdated();\r\n  }\r\n\r\n  setJustUpdated() {\r\n    this.setState({\r\n      justUpdated: true\r\n    }, () => {\r\n      window.clearTimeout(this.justUpdatedTimeout)\r\n      this.justUpdatedTimeout = window.setTimeout( () => this.clearJustUpdated(), 1000);\r\n    })\r\n  }\r\n\r\n  clearJustUpdated() {\r\n    this.setState({\r\n      justUpdated: false,\r\n    })\r\n  }\r\n\r\n  isEmptyRow() {\r\n    return _.isEmpty(this.props.monster);\r\n  }\r\n\r\n  getRowErrors() {\r\n    if(!this.props.needsValidation) return null;\r\n    if(this.isEmptyRow()) return null;\r\n\r\n    if(!this.props.inTraitSlot && (this.props.monster.class === \"Rodian Master\" || this.props.monster.class === \"Nether Boss\" || this.props.monster.class === \"Backer\")) return \"This trait cannot be found on a playable creature and cannot be placed in a creature slot.\";\r\n    if(this.props.inTraitSlot && (this.props.monster.material_name === \"N/A\" || this.props.monster.material_name === \"No Material Exists\")) return \"This trait has no material and cannot be placed in the trait slot.\";\r\n    return null;\r\n  }\r\n\r\n  renderEmptyRow() {\r\n    return (\r\n      <div className=\"monster-row empty-row\">\r\n      \t{ this.props.error && <span className=\"monster-row-error\"><FontAwesomeIcon icon={faExclamationTriangle} />Error: {this.props.error}. </span>}\r\n      \t{\"Click to add a\" + (this.props.inTraitSlot ? \"n artifact trait\" : \" monster\")}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n\r\n    const rowErrors = this.getRowErrors();\r\n    const emptyRow = this.isEmptyRow();\r\n\r\n    if(this.props.monster.class) {\r\n      var rowClass = \" cls-\" + this.props.monster.class.toLowerCase();\r\n      if(this.props.inTraitSlot) rowClass = \" cls-trait\";\r\n    } else {\r\n      rowClass = \" cls-empty\";\r\n    }\r\n\r\n    return (\r\n    <div className=\"monster-row-wrapper\">\r\n      <div\r\n        className={\"monster-row-container monster-row-container-planner\" + \r\n          (this.props.draggable ? \" draggable\": \"\") + \r\n          (rowErrors ? \" invalid-row\" : \"\") + \r\n          (this.state.justUpdated ? \" just-updated\": \"\") + \r\n          rowClass\r\n\r\n        }\r\n        draggable={this.props.draggable}\r\n        onDragStart={this.props.onDragStart({ row_id: this.props.row_id })}\r\n        onDragOver={this.props.onDragOver({ row_id: this.props.row_id })}\r\n        onDrop={this.props.onDrop({ row_id: this.props.row_id })}\r\n\r\n        onMouseUp={ () => this.props.onMouseUp({ row_id: this.props.row_id })}\r\n\r\n        title={rowErrors }\r\n        data-row={this.props.creatureSlot}\r\n      >\r\n      \r\n      { emptyRow ?\r\n        this.renderEmptyRow() : \r\n        <MonsterRow {...this.props.monster} inTraitSlot={this.props.inTraitSlot} error={this.props.error} />   \r\n      }\r\n      </div>\r\n      <div className=\"monster-row-controls\">\r\n        { !emptyRow && <button className=\"delete-button\" onClick={() => this.props.clearMonsterPlannerRow(this.props.row_id)}><FontAwesomeIcon icon={faTimes} /></button>}\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n// DND Code found here: https://codepen.io/frcodecamp/pen/OEovqx\r\nclass MonsterPlanner extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      items: [],\r\n      dragging: false,\r\n\r\n      row_ids: [],\r\n      monsters: [],\r\n    }\r\n    this.myRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(!_.isEqual(prevProps, this.props)) {\r\n      this.setState({\r\n        items: this.props.monsterRows\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  handleDragStart = data => event => {\r\n    console.log('start')\r\n    let fromItem = JSON.stringify({ row_id: data.row_id });\r\n    console.log(fromItem)\r\n    event.dataTransfer.setData(\"dragContent\", fromItem);\r\n    this.setState({\r\n      dragging: true,\r\n    })\r\n  };\r\n\r\n  handleDragOver = data => event => {\r\n    event.preventDefault(); // Necessary. Allows us to drop.\r\n    this.setState({\r\n      dragging: false,\r\n    })\r\n    return false;\r\n  };\r\n\r\n  handleDrop = data => event => {\r\n    event.preventDefault();\r\n\r\n    let fromItem = JSON.parse(event.dataTransfer.getData(\"dragContent\"));\r\n    let toItem = { row_id: data.row_id };\r\n\r\n    this.swapItems(fromItem, toItem);\r\n    return false;\r\n  };\r\n\r\n  swapItems = (fromItem, toItem) => {\r\n    let items = this.state.items.slice();\r\n    let fromIndex = -1;\r\n    let toIndex = -1;\r\n\r\n    for (let i = 0; i < items.length; i++) {\r\n      if (items[i].row_id === fromItem.row_id) {\r\n        fromIndex = i;\r\n      }\r\n      if (items[i].row_id === toItem.row_id) {\r\n        toIndex = i;\r\n      }\r\n    }\r\n\r\n    if (fromIndex != -1 && toIndex != -1) {\r\n      let { fromId, ...fromRest } = items[fromIndex];\r\n      let { toId, ...toRest } = items[toIndex];\r\n      items[fromIndex] = { id: fromItem.id, ...toRest };\r\n      items[toIndex] = { id: toItem.id, ...fromRest };\r\n\r\n      this.setState({ items: items, dragging: false }, () => this.props.updateMonsterPlannerRows(this.state.items));\r\n    }\r\n    \r\n  };\r\n\r\n  handleMouseUp(row_id, slot_id, monster) {\r\n    this.props.openModal(row_id, slot_id, monster);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"monster-planner\" className=\"monster-planner monster-list\" ref={this.myRef}>\r\n        {this.state.items.map((monsterRow, i) => \r\n          <MonsterPlannerRow monster={monsterRow.monster}\r\n          error={monsterRow.error}\r\n          key={i}\r\n          row_id={ monsterRow.row_id }\r\n          draggable=\"true\"\r\n          onDragStart={this.handleDragStart}\r\n          onDragOver={this.handleDragOver}\r\n          onDrop={this.handleDrop}\r\n          onMouseUp={() => this.handleMouseUp(monsterRow.row_id, i, monsterRow.monster ? monsterRow.monster : null)}\r\n          inTraitSlot={(i + 1) % 3 === 0 && i <= 18}\r\n          needsValidation={i <= 18}\r\n          creatureSlot={i <= 18 ? Math.floor((i + 1) / 3) : null}\r\n          clearMonsterPlannerRow={this.props.clearMonsterPlannerRow}          \r\n\r\n          { ...this.props.openModal }\r\n          />             \r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// class MonsterSelectionRow extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//   }\r\n\r\n//   render() {\r\n\r\n\r\n\r\n\r\n\r\n//   }\r\n// }\r\n\r\n// _.isEqual() doesn't seem to work for sets\r\n// yoinked this from here: https://stackoverflow.com/questions/31128855/comparing-ecma6-sets-for-equality\r\nfunction eqSet(as, bs) {\r\n    if (as.size !== bs.size) return false;\r\n    for (var a of as) if (!bs.has(a)) return false;\r\n    return true;\r\n}\r\n\r\n\r\nfunction getPageFamily(m) {\r\n  return m.family ? m.family : m.class + \" traits\"; // Exception for Backer traits\r\n}\r\n\r\nfunction getMonsterSemanticName(m) {\r\n  console.log(m)\r\n  return m.family ? (m.family + \" / \" + m.creature) : (m.class + \" (\" + m.trait_name + \")\");\r\n}\r\n\r\nclass MonsterSelectionModal extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      items: [],\r\n      filteredItems: [],\r\n\r\n      filteredItemGroups: [{\"start\": 0, \"end\": 0}], // [{ \"start\": 0, \"end\": 93, \"familyStart\": \"Abomination\", \"familyEnd\": \"Aspect\"}]\r\n      currentPage: 0,\r\n\r\n      currentSearchTerm: \"\",\r\n      appliedSearchTerm: \"\",\r\n    }\r\n    this.searchTimeout = null;\r\n    this.tableRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    //console.log(prevProps, this.props, prevState, this.state, _.isEqual(prevProps, this.props), _.isEqual(prevState, this.state))\r\n\r\n\r\n    if(!_.isEqual(prevProps.monsterRows, this.props.monsterRows)) {\r\n\r\n      var filteredItemGroups = this.getItemGroups(this.props.monsterRows);\r\n\r\n      this.setState({\r\n        items: this.props.monsterRows,\r\n        filteredItems: [...this.props.monsterRows],\r\n        filteredItemGroups: filteredItemGroups,\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  // A terribly written function that basically puts all of the monsters into particular groups.\r\n  // This is for pagination.\r\n  // The result is a list of monster groups, for example:\r\n  //\r\n  // {start: 0, end: 120, familyStart: \"Abomination\", familyEnd: \"Basilisk\"} means that\r\n  // monster #0 to monster #120 belong on the first page. The first family is Abomination,\r\n  // and the last family is Basilisk.\r\n  //\r\n  // Rather than using fixed page size (i.e. 100), this function ensures that the families\r\n  // are not split onto separate pages, i.e. there might be 102 on a page so that\r\n  // one of the families is not split onto two separate pages.\r\n  //\r\n  // This function is super awkward and needs rewriting, but it works for now.\r\n  getItemGroups(items) {  \r\n    var itemGroups = [];\r\n    var currentGroup = {\"start\": 0, \"end\": null, \"familyStart\": null, \"familyEnd\": null}\r\n    var monstersInCurrentGroup = [];\r\n    for(var i = 0; i < items.length; i++) {\r\n      var item = items[i];\r\n      var m = item.monster;\r\n      var f = getPageFamily(m)\r\n\r\n      if(!currentGroup.familyStart) currentGroup.familyStart = f;\r\n      monstersInCurrentGroup.push(m);\r\n      if((monstersInCurrentGroup.length > MONSTERS_PER_PAGE) && \r\n          (f !== getPageFamily(monstersInCurrentGroup[Math.max(0, monstersInCurrentGroup.length - 2)]))) {\r\n        currentGroup.end = i;\r\n        currentGroup.familyEnd = getPageFamily(monstersInCurrentGroup[Math.max(0, monstersInCurrentGroup.length - 2)]);\r\n        itemGroups.push(currentGroup);\r\n        currentGroup = {\"start\": i, \"end\": null, \"familyStart\": f, \"familyEnd\": null}\r\n        monstersInCurrentGroup = [];\r\n      }\r\n    }\r\n\r\n\r\n    if(monstersInCurrentGroup.length > 0) {\r\n      currentGroup.end = i;\r\n      currentGroup.familyEnd = getPageFamily(monstersInCurrentGroup[Math.max(0, monstersInCurrentGroup.length - 1)]);\r\n      itemGroups.push(currentGroup);\r\n      currentGroup = {\"start\": i, \"end\": null, \"familyStart\": f, \"familyEnd\": null}\r\n      monstersInCurrentGroup = [];\r\n    }\r\n\r\n    return itemGroups;\r\n  }\r\n\r\n\r\n  handleSearchChange(e) {\r\n    window.clearTimeout(this.searchTimeout);\r\n    this.setState({\r\n      currentSearchTerm: e.target.value,\r\n    }, () => {\r\n      this.searchTimeout = window.setTimeout( () => this.applySearchTerm(), 500);\r\n    });\r\n  }\r\n\r\n  filterResults() {\r\n    var searchTerm = this.state.currentSearchTerm.toLowerCase();\r\n    var filteredItems = [];\r\n    for(var item of this.state.items) {\r\n      var searchText = item.monster.search_text;\r\n      if(searchText.toLowerCase().indexOf(searchTerm) !== -1) {\r\n        filteredItems.push({monster: item.monster});\r\n      }      \r\n    }\r\n    var filteredItemGroups = this.getItemGroups(filteredItems);\r\n    this.setState({\r\n      currentPage: 0,\r\n      filteredItems: filteredItems,\r\n      filteredItemGroups: filteredItemGroups\r\n    }, () => { this.tableRef.current.scrollTo(0, 0) })\r\n  }\r\n\r\n  applySearchTerm() {\r\n    this.setState({\r\n      appliedSearchTerm: this.state.currentSearchTerm\r\n    }, () => this.filterResults())\r\n  }\r\n\r\n  resetSearchTerm() {\r\n    if(this.state.currentSearchTerm === \"\") return;\r\n    this.setState({\r\n      currentSearchTerm: \"\",\r\n    })\r\n  }\r\n\r\n  renderResultsCount() {   \r\n\r\n    var r =  <span><b>{this.state.filteredItems.length}</b> of <b>{this.state.items.length}</b> results</span>;\r\n    if(this.state.filteredItems.length === this.state.items.length) {\r\n      r = <span>all <b>{this.state.items.length}</b> results</span>\r\n    }\r\n    var f = \"\";\r\n    if(this.state.appliedSearchTerm) {\r\n      f = \" matching the current search term\";\r\n    }\r\n                \r\n    return (\r\n    <span>Displaying {r}{f}.</span>\r\n    )\r\n  }\r\n\r\n    goToPage(pageNum) {\r\n      this.setState({\r\n        currentPage: pageNum,\r\n      }, () => { this.tableRef.current.scrollTo(0, 0) })\r\n    }\r\n/*      <Modal\r\n        isOpen={this.props.isOpen}\r\n        //onAfterClose={() => this.resetSearchTerm()}\r\n        onRequestClose={this.props.closeModal}\r\n        contentLabel=\"Example Modal\"\r\n      >*/\r\n  render() {\r\n\r\n    var startIndex = this.state.filteredItemGroups[this.state.currentPage] ? this.state.filteredItemGroups[this.state.currentPage].start : 0;\r\n    var endIndex = this.state.filteredItemGroups[this.state.currentPage] ? this.state.filteredItemGroups[this.state.currentPage].end : 0;\r\n\r\n    console.log(startIndex, endIndex, \"<X\")\r\n\r\n\r\n    var creature_number = Math.floor(this.props.currentSelectedIndex / 3) + 1;\r\n    var slot = (this.props.currentSelectedIndex + 1) % 3 === 1 ? \"primary\" : ((this.props.currentSelectedIndex + 1)  % 3 === 2) ? \"secondary\" : \"artifact\";\r\n    var slot_n = slot === \"artifact\" ? \"n\" : \"\";\r\n    var currentMonster = !_.isEmpty(this.props.currentSelectedMonster) ? getMonsterSemanticName(this.props.currentSelectedMonster) : null;\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h3>Select a{slot_n} <b>{slot}</b> trait for party member <b>{creature_number}</b>. <span style={{'margin-left': '20px'}}>{currentMonster && (\"Current: \" + currentMonster)}</span></h3>\r\n            <button className=\"modal-close\" onClick={this.props.closeModal}><FontAwesomeIcon icon={faTimes} /></button>\r\n          \r\n          </div>\r\n          <div className=\"monster-selection-modal\">\r\n\r\n              <div className=\"monster-selection-controls\">\r\n\r\n\r\n                <div className=\"monster-selection-search-tools\">\r\n                  <input id=\"monster-search\" className=\"monster-search\" autoFocus type=\"text\" placeholder=\"Search monsters/traits...\" onChange={(e) => this.handleSearchChange(e)} value={this.state.currentSearchTerm} />\r\n                </div>\r\n                \r\n               <div className=\"monster-selection-pagination\">\r\n\r\n                  {this.state.filteredItemGroups.map((itemGroup, i) =>\r\n                      <div onClick={() => this.goToPage(i)} className={\"tab\" + (this.state.currentPage === i ? \" active\" : \"\")}>{itemGroup.familyStart} - {itemGroup.familyEnd}</div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"monster-row-container monster-row-container-selection monster-row-container-header\">\r\n                  <MonsterRowHeader renderFullRow={true} /> \r\n                </div> \r\n\r\n\r\n              </div>\r\n\r\n              <div className=\"monster-selection-list monster-list\" ref={this.tableRef}>\r\n                  {this.state.filteredItems.slice(startIndex, endIndex).map((monsterRow, i) =>                 \r\n                    <div className={\"monster-row-container monster-row-container-selection selectable\" + \r\n                      ((monsterRow.monster && this.props.currentSelectedMonster && (monsterRow.monster.uid === this.props.currentSelectedMonster.uid)) ? \" currently-selected-monster\" : \"\")}\r\n                      onMouseUp={() => this.props.updateMonsterPlannerRow(monsterRow.monster)}>\r\n                      <MonsterRow {...monsterRow.monster} \r\n                      renderFullRow={true}\r\n                      searchTerm={this.state.currentSearchTerm}\r\n                      inParty={this.props.monstersInParty.has(monsterRow.monster.uid)}\r\n                      {...this.props.updateMonsterPlannerRow} /> \r\n                    </div>\r\n                  )}              \r\n              </div>\r\n\r\n              <div className=\"monster-selection-results-count\">\r\n                 { this.renderResultsCount() }\r\n              </div>\r\n\r\n        \r\n\r\n          </div>\r\n        </div>\r\n    )\r\n\r\n\r\n  }\r\n}\r\n\r\nclass SiralimPlanner extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      monsterPlannerRows: [],\r\n      monsterSelectionRows: [],\r\n      currentRowId: null,\r\n      currentSlotId: null,\r\n      currentSelectedMonster: null,      \r\n      monstersInParty: new Set(), // An set of uids of the monsters/trait in the user's party\r\n      messageText: null,\r\n      //saveString: null,\r\n      monsterMap: {}, // A map of uid: row_index\r\n      modelIsOpen: false,\r\n      infoModalIsOpen: false,\r\n    }    \r\n  }\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n\r\n  // \tconsole.log(prevState.monsterPlannerRows[0] ? prevState.monsterPlannerRows[0].monster : \"undef\", this.state.monsterPlannerRows[0] ? this.state.monsterPlannerRows[0].monster : \"undef\")\r\n\r\n  // \tif(!_.isEqual(prevState.monsterPlannerRows, this.state.monsterPlannerRows)) {\r\n  // \t\tvar saveString = this.generateSaveString();\r\n  // \t\tthis.props.history.push(saveString)\r\n  // \t}\r\n  // }\r\n\r\n  generateSaveString() {\r\n  \tconsole.log(\"Hi\")\r\n    var monsterPlannerRows = this.state.monsterPlannerRows;\r\n    var saveString = \"\";\r\n    for(var i = 0; i < 18; i++) {\r\n      var m = monsterPlannerRows[i];\r\n      if(!_.isEmpty(m.monster)) saveString += m.monster.uid;\r\n      else saveString += \"_\";\r\n    }\r\n    //prompt(\"Link to this build: \", \"siralim-planner.github.io?build=\" + saveString)\r\n\r\n\r\n    this.props.history.push('?b=' + saveString);\r\n    \r\n\r\n    // this.setState({\r\n    //   saveString: saveString\r\n    // })\r\n  }\r\n\r\n  getMonstersInParty(monsterPlannerRows) {\r\n    var monstersInParty = new Set();\r\n    // Update monsters in party\r\n    for(var m of monsterPlannerRows) {\r\n      if(m.monster.uid) monstersInParty.add(m.monster.uid);\r\n    }\r\n    return monstersInParty;\r\n  }\r\n\r\n  updateMonsterPlannerRow(monster) {\r\n    var monsterPlannerRows = [...this.state.monsterPlannerRows];\r\n    var monstersInParty = this.state.monstersInParty;\r\n    for(var i in monsterPlannerRows) {\r\n      var m = monsterPlannerRows[i];\r\n      if(m.row_id === this.state.currentRowId) {\r\n        monsterPlannerRows[i].monster = monster;        \r\n        break;\r\n      } \r\n    }\r\n    var monstersInParty = this.getMonstersInParty(monsterPlannerRows);\r\n\r\n     console.log([...monsterPlannerRows][0], \"< 1\")\r\n\r\n    this.setState({\r\n      monsterPlannerRows: [...monsterPlannerRows],\r\n      monstersInParty: monstersInParty\r\n    }, () => { \r\n    \tconsole.log(\"done\")\r\n    \tthis.closeModal(); \r\n  \t\tthis.generateSaveString();\r\n\t})\r\n  }\r\n\r\n  clearMonsterPlannerRow(row_id) {\r\n\r\n    var monsterPlannerRows = [...this.state.monsterPlannerRows];\r\n    for(var i in monsterPlannerRows) {\r\n      var m = monsterPlannerRows[i];\r\n      if(m.row_id === row_id) {\r\n        monsterPlannerRows[i].monster = {};\r\n        break;\r\n      } \r\n    }\r\n    var monstersInParty = this.getMonstersInParty(monsterPlannerRows);\r\n\r\n    this.setState({\r\n      monsterPlannerRows: monsterPlannerRows,\r\n      monstersInParty: monstersInParty,\r\n    }, this.generateSaveString)\r\n  }\r\n\r\n  updateMonsterPlannerRows(newRows) {\r\n    this.setState({\r\n      monsterPlannerRows: newRows,\r\n    }, this.generateSaveString);\r\n  }\r\n\r\n\r\n  buildMonsterMap(monsterSelectionRows) {\r\n    var monsterMap = {}\r\n    for(var i in monsterSelectionRows) {\r\n      monsterMap[monsterSelectionRows[i].monster.uid] = parseInt(i);\r\n    }\r\n    return monsterMap;\r\n  }\r\n\r\n  // Parse the loadString into a list of UIDs (or null for underscores).\r\n  parseLoadString(str) {\r\n  \tvar uids = [];\r\n  \tvar currentUid = '';\r\n  \tfor(var i = 0; i < str.length; i++) {\r\n  \t\tvar c = str[i];\r\n  \t\tif(c === \"_\") {\r\n  \t\t\tif(currentUid.length > 0 && currentUid.length < UID_HASH_LENGTH) throw new Error(\"Malformed uid\");\r\n  \t\t\tuids.push(null);\r\n  \t\t} else {\r\n  \t\t\tcurrentUid += c;\r\n  \t\t\tif(currentUid.length === UID_HASH_LENGTH) {\r\n  \t\t\t\tuids.push(currentUid);\r\n  \t\t\t\tcurrentUid = '';\r\n  \t\t\t}\r\n  \t\t}\r\n  \t}\r\n\r\n  \tif(uids.length > 18) throw new Error(\"Too many uids\");\r\n  \tif(uids.length < 18) throw new Error(\"Not enough uids\");\r\n\r\n  \treturn uids;\r\n  }\r\n\r\n  // On component mount, transform monsterData into a new array, i.e.\r\n  // { row_id: <the index of the monster>, monster: <the JSON object of the monster> }\r\n  // This is necessary to get the drag and drop functionality to work.\r\n  // Every row needs a fixed id to function properly.\r\n  componentDidMount() {\r\n    var monsterPlannerRows = [];\r\n    for(var i = 0; i < 18; i++) {\r\n      monsterPlannerRows.push({row_id: parseInt(i), monster: {}})\r\n    }\r\n\r\n    var monsterSelectionRows = [];\r\n    for(var i in monsterData.slice(0, 10330)) {\r\n      monsterSelectionRows.push({monster: monsterData[i]});\r\n    }\r\n\r\n    var monsterMap = this.buildMonsterMap(monsterSelectionRows);\r\n    console.log(monsterMap, \"< monster map\")\r\n\r\n\r\n    // Get string from param if there is any\r\n    const windowUrl = window.location.search;\r\n    const params = new URLSearchParams(windowUrl);\r\n\r\n    var loadString = params.get('b');\r\n    console.log(loadString)\r\n\r\n    try {\r\n   \t\tvar uids = this.parseLoadString(loadString);\r\n   \t\tconsole.log(uids)\r\n   \t\tfor(var i = 0; i < uids.length; i++) {\r\n   \t\t\tvar uid = uids[i];\r\n   \t\t\tif(uid !== null) {\r\n   \t\t\t\tif(monsterMap.hasOwnProperty(uid)) monsterPlannerRows[i].monster = monsterData[monsterMap[uid]];\r\n   \t\t\t\telse monsterPlannerRows[i].error = \"Monster/trait does not exist or has changed\"\r\n   \t\t\t}\r\n   \t\t}\r\n\r\n\r\n   \t} catch(err) {\r\n   \t\tconsole.log(err);\r\n   \t}\r\n\r\n\r\n    this.setState({\r\n      monsterPlannerRows: monsterPlannerRows,\r\n      monsterSelectionRows: monsterSelectionRows,\r\n      monsterMap: monsterMap,\r\n    });\r\n  }\r\n\r\n  openInfoModal() {\r\n  \tthis.setState({\r\n  \t\tinfoModalIsOpen: true,\r\n  \t})\r\n  }\r\n\r\n  closeInfoModal() {\r\n  \tthis.setState({\r\n  \t\tinfoModalIsOpen: false,\r\n  \t})\r\n  }\r\n\r\n  openModal(row_id, slot_id, monster) {\r\n\r\n    console.log(row_id)\r\n    this.setState({\r\n      modalIsOpen: true,\r\n      currentRowId: row_id,\r\n      currentSlotId: slot_id,\r\n      currentSelectedMonster: monster || null,\r\n    }, () => {\r\n      document.body.style['overflow-y'] = \"hidden\";\r\n      document.getElementById('monster-search').focus();\r\n    })\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({\r\n      modalIsOpen: false,\r\n      currentRowId: null,\r\n      currentSlotId: null,\r\n      currentSelectedMonster: null,\r\n    }, () => {\r\n      document.body.style['overflow-y'] = \"scroll\";\r\n    })\r\n  }\r\n\r\n  // <button className=\"lighter\" onClick={() => this.generateSaveString()}><FontAwesomeIcon icon={faSave}/><span>Save</span></button>\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\" id=\"app\">\r\n        <header className=\"app-header\">\r\n          <div className=\"container\">\r\n          <div className=\"app-header-left\">\r\n            <h3>Siralim Planner</h3>\r\n          </div>\r\n          <div className=\"app-header-right\">\r\n          \t<p><a href=\"https://docs.google.com/spreadsheets/d/1qvWwf1fNB5jN8bJ8dFGAVzC7scgDCoBO-hglwjTT4iY/edit#gid=0\" target=\"_blank\">Compendium</a> {compendium_version}</p>\r\n            <button className=\"lighter\" onClick={() => this.openInfoModal()}><FontAwesomeIcon icon={faInfoCircle}/><span>Info</span></button>\r\n          </div>\r\n          </div>\r\n        </header>\r\n\r\n        <Modal className=\"modal-content modal-content-info\" overlayClassName=\"modal-overlay modal-overlay-info is-open\" isOpen={this.state.infoModalIsOpen}>\r\n        \t<div className=\"modal-header\">\r\n          \t<button className=\"modal-close\" onClick={() => this.closeInfoModal()}><FontAwesomeIcon icon={faTimes} /></button>\r\n          </div>\r\n        \t<div className=\"info-modal\">\r\n        \t\t<h2>Siralim Planner by Berated Bert</h2>\r\n        \t\t<p>This is a fan-made tool designed to simplify the process of planning builds for <a href=\"https://store.steampowered.com/app/1289810/Siralim_Ultimate/\" target=\"_blank\">Siralim Ultimate</a>. As a longtime fan of the series I always wished there was an easy way to theorycraft Siralim builds - so I came up with \r\n        \t\tthis tool. The three main features of this tool are outlined below.</p>\r\n        \t\t<h3>Party Planner</h3>\r\n        \t\t<p>The Party Planner allows you to put together a list of 18 traits for your Siralim Ultimate party. It is comprised of 18 rows, which\r\n        \t\tare separated into 6 groups of 3 - these correspond to your party members, and their 3 traits (2 creature traits, and 1 artifact slot).</p>\r\n        \t\t<p>To start planning your party, click on one of the 18 rows. This brings up the Trait Selection Window, described below.</p>\r\n        \t\t<p>You can <b>drag and drop</b> traits between rows to swap them - this enables you to easily swap traits between creatures/slots.</p>\r\n        \t\t<p>The tool also supports some basic <b>validation</b>: if you put a trait from a monster that cannot be obtained (i.e. a Nether Boss) into\r\n        \t\ta creature slot, the row will be highlighted with red stripes to let you know that such an assignment is not possible.</p>\r\n        \t\t<h3>Trait Selection Window</h3>\r\n        \t\t<p>In the trait selection window, you can <b>search</b> for a particular keyword, e.g. if you want to find all creatures \r\n        \t\tthat interact with buffs in some way you can type \"buff\" and the results will be filtered accordingly.</p>\r\n        \t\t<h3>Sharing builds</h3>\r\n        \t\t<p>Builds can be easily shared - simply copy the URL and send it to someone and they will be able to load your build.</p>\r\n        \t\t<h3>Acknowledgements and Source Code</h3>\r\n        \t\t<p>The data was sourced from the <a href=\"https://docs.google.com/spreadsheets/d/1qvWwf1fNB5jN8bJ8dFGAVzC7scgDCoBO-hglwjTT4iY/edit#gid=0\" target=\"_blank\">Siralim Ultimate Compendium</a>, a fantastic\r\n        \t\tresource by EmptyPalms. I'd like to thank EmptyPalms for putting together this resource and for their permission to use the data as part of this tool.</p>\r\n        \t\t<p>The <b>source code</b> of this tool is available on <a href=\"https://github.com/siralim-planner/siralim-planner\" target=\"_blank\">GitHub</a>. If you would like to work on it \r\n        \t\tyou are more than welcome to submit a pull request or fork the repository.</p>\r\n        \t\t<p>Depending on usage I may or may not keep the tool up-to-date with the latest version of the Siralim Ultimate Compendium. If it is not up-to-date at some point feel free to \r\n        \t\tdownload the code yourself and run it locally. Better yet, feel free to update the GitHub repository with the latest spreadsheet and submit a pull request.</p>\r\n        \t\t<p>If you encounter any problems or have any feedback please feel free to message me on Discord - <b>BeratedBert#6292</b>, or submit an issue on the GitHub repo.</p>\r\n\r\n        \t</div>\r\n        </Modal>\r\n\r\n        <div className={\"modal-overlay\" + (this.state.modalIsOpen ? \" is-open\" : \"\")}>\r\n        <MonsterSelectionModal \r\n          monsterRows={this.state.monsterSelectionRows}\r\n          monstersInParty={this.state.monstersInParty}\r\n          closeModal={this.closeModal.bind(this)}\r\n          updateMonsterPlannerRow={this.updateMonsterPlannerRow.bind(this)} \r\n          currentSelectedMonster={this.state.currentSelectedMonster} \r\n          currentSelectedIndex = {this.state.currentSlotId} />\r\n        </div>\r\n\r\n\r\n\r\n        <main>\r\n          <div className=\"container\">\r\n            <MonsterPlanner \r\n              monsterRows={this.state.monsterPlannerRows}\r\n              updateMonsterPlannerRows={this.updateMonsterPlannerRows.bind(this)}\r\n              openModal={this.openModal.bind(this)}\r\n              clearMonsterPlannerRow={this.clearMonsterPlannerRow.bind(this)} />\r\n          </div>\r\n        </main>\r\n        <footer>\r\n          <div className=\"container\">\r\n            <p>2021 Created by BeratedBert. This site is not affiliated with Thylacine Studios.</p>\r\n            <p>Data sourced from the <a href=\"https://docs.google.com/spreadsheets/d/1qvWwf1fNB5jN8bJ8dFGAVzC7scgDCoBO-hglwjTT4iY/edit#gid=0\" target=\"_blank\">Siralim Ultimate Compendium</a>.</p>\r\n          </div>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withRouter(SiralimPlanner);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAfCAYAAAD0ma06AAAAAXNSR0IArs4c6QAAAYVJREFUSInVlz1LA0EQhp+VfAiJhqgkoJhCTGEn6A9QsLOzEuwFCwt/iYW/wEKw8hcI2tgp2FlE7BQiiggR/CjO4hjPmdx5F5FsfKu792Z357mZ3UtcEAT0IuecGhAEgetl/FBPq/2BclkDhWxrvxnrZyUdPEIhWN+tA5DPFdRz8bOSDg6hJXvtfABQaOgh4mcl7Tuhs/tQMlzeLil/YWkWgInJsvIf7joAXJxeK/9k7wXoJvVHaGsmkho9378BEalIyCq1IgDD5bx6frjTBiLS/neprVn7JqxJc3EciAiFwMr6o2Phfev8ke/zyjr+9mF9RnefZGhrZrsUptWd1NTOB2HXDs5JI7Wx+yupS+241AVts0jx02QXqDXiSyPy90qfbsP2b6Ez+m3T2HlF/o+2+bXwA1ud0keUZLqyMaf844OrH+Mvj94Bn0ebXEgGEakOlExXN12snxTv/fPUtfEtqdVIpRRnfxHZeaz8E4pshkJcLTZM5FlsfJL8/4hKHfDf/sx8ArD0qvK4UFYaAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAAXNSR0IArs4c6QAAANZJREFUSInVl0sOwyAMRMdV17lrT5gr9DCs465GClYMGCHhvl0gvzcTJURUFVFEpDpIVSV8EgCvmYNW8Y7sTOPvcQAAzlKqcQ8vmfzmnvHnuqr9OE+8ZJhEbnMRUWtk8YyZjJ1nEjnNbc9A38ibt+P/0Tkwb9wjl/lT1x7RROybLpe55Swl3GXPmOQwX9l1+OKtC6yOm+SIfYRVcZO95qMLhRbRrkmOzltLo5k0Rthrzn7Yvd1+ordIGCVH595d3z8s9zFg3phsNZfej6KIqDWzz8csW81/dibKtf0DvmoAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAbCAYAAABvCO8sAAAAAXNSR0IArs4c6QAAAPxJREFUSIlj/P//PwMpgJGREUXD////GUnRz0SSbVQALMQqhPms3f0sVnFifUp3Hw5/C3HGIXpqhAFtexFUgZ3Y1eOK04H3Ia7UCPOZmZcgivgmhocMDAwMDFcPvsFqDrpPh3+iGfg4hIU5RiqFpkZYnMGAX5U8VoMHbypFB+g+Rk+NuNQRbSFMg3vpWRQ+IYBL34BnC7gP0X1ibwvJ6Du7UTVU7jTGayC6PnSf0t+H6GEPc6GXHrQI2wTJBgcPQxLLzm5UHxKrD2YP3X3ICGtEocdhG9SFVX6oGRs91ZGqb+BSKXrGhYU9ujw6IFXfwMUhhgSJzT9i9dHdhwACtohPZP8W+QAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAfCAYAAAAWRbZDAAAAAXNSR0IArs4c6QAAAUpJREFUSInVlzFuwkAQRd9GHIYmkgtw6TvQ0SYFUnwgFy6gpcsdKEkKpDTcZlOgn3jHOwgUiXV+Y3l3PZq388drhxgjnkKo/cmMYjyGa/NP9wT7q2beRAh13GxeAKiq5dUgp9PHzzPgEz6ULNia5erkEYqo73fZ4JawDJmImmYBwOHwOVosQskjsjFEOA03JlodAagqQ7t6u1zf65vCTKNmAPP5c7LY1sjW8Hz+Su6L1izAMkK+l/b7bZKhJ+3Gev2ajNs+LONGu9/wm6nIhvUcjmudSLyYjyWTU+RGOXCYlYisOyUR6Rmts24cNbUM0vc7N7gnu62QtkoZg9jthJQSxtYej1/u27ZNYkplyEQ0bG6boT1Y7XjXdYD/mVD2iBlaXpnazCWPKPeCgKl88DTN4u4+E5FtZqlszTzn3SKPSCpbs2TyP/9YfAPQvMbZaDZ2fAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAAAXNSR0IArs4c6QAAARxJREFUSInllysSwkAMhv8wCAxouACee4BGIjkTEomGe+C5AGgwuGCahWZf7cJM0+F3O7PZ7pfXpsTMKBURMQAwM5XYD4q//AMNS4wc8fVYX7f0gD3yGIlHPFshtC93jsgWORFxNpa3EwDgfhgF9zXNCVvkzEzupuctgPfNRbTYBQ/z7DI50Sk5pTqcJpYYxzRZP2vrXN3bIP/MyBjxeL5JHva47AH4HhDZyvZQTQppjADTZX1d1b2WZL3s1/XeLXmwKzmScD03lcuBqi/ojueajL5EUhE3a0nYPEALbv/fJpMeJuSBqBImWnpK+kEy+bCkhwn1JAqJbrfimV4NE8Fsz8Wq6SBpOubJOvc2txydc+oPuTP68gdR1Cn5C2ks2e6a6jWRAAAAAElFTkSuQmCC\"","import React, {Component, PureComponent} from 'react';\nimport { withRouter, BrowserRouter } from \"react-router-dom\";\n\nimport SiralimPlanner from './SiralimPlanner';\n\nclass App extends Component {\n\n  render() {\n    return <BrowserRouter><SiralimPlanner/></BrowserRouter>\n  }\n}\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}